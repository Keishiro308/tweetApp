<%= form_with model: user, url: url, local: true do |form| %>
  <%= render 'shared/error_messages', object: user %>
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <div class="form-group">
        <%= form.label :name, class: "control-label" %>
        <%= form.text_field :name, class: "form-control" %>

      </div>

      <div class="form-group">
        <%= form.label :email, class: "control-label" %>
        <%= form.email_field :email, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :password, class: "control-label" %>
        <%= form.password_field :password, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :password_confirmation, class: "control-label" %>
        <%= form.password_field :password_confirmation, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :user_image, class: "control-label" %>
        <%= form.file_field :user_image, class: "form-control", accept: 'image/jpeg, image/png, image/gif' %>
      </div>
      <%= form.submit yield(:button_text), class: "btn btn-primary" %>
    </div>
  </div>
<% end %>

<script type="text/javascript">
  $('#user_user_image').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('画像サイズは５MBまでです。サイズの小さいファイルに変更してください。');
    }
  });
</script>
